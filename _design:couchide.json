{
  "version": "0.2.1",
 "comment": "This is the CouchIDE design doc, when placed in a database it creates a sort of webserver for you.\nDocumentation at: https://github.com/vhv/CouchIDE",
 "_id": "_design/couchide",
 "views": {
 "type-doc": {
 "map": "function(doc) { emit(doc.type, doc) }"
 }
 },
 "rewrites": [
   {
     "from": "/couchide",
     "to": "couch.ide"
   },
   {
     "from": "/couchide/*",
     "to": "couch.ide"
   },
   {
     "from": "/",
     "to": "_show/render/index.html"
   },
   {
     "from": "*/type-doc",
     "to": "_view/type-doc"
   },
   {
     "from": "/_session/",
     "to": "../../../_session/"
   },
   {
     "from": "/api/",
     "to": "../../../"
   },
   {
     "from": "/*",
     "to": "_show/render/*"
   }
 ],
 "shows": {
   "render": "function(doc, req) { return { \"headers\": { \"Content-Type\": doc.type }, \"body\": doc.body } }"
  },
  "_attachments": {
    "couch.ide": {
      "content_type": "text/html",
      "data": "PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgPG1ldGEgY2hhcnNldD0idXRmLTgiPg0KICA8dGl0bGU+Q291Y2hJREU8L3RpdGxlPg0KICANCiAgPHN0eWxlPg0KICAgIA0KICAgIEBpbXBvcnQgdXJsKGh0dHA6Ly93ZWxvdmVpY29uZm9udHMuY29tL2FwaS8/ZmFtaWx5PWVudHlwbyk7DQogICAgQGltcG9ydCB1cmwoaHR0cDovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9U291cmNlK1NhbnMrUHJvOjIwMCw0MDAsNjAwfFNvdXJjZStDb2RlK1Bybyk7DQogICAgDQogICAgDQogICAgLyogZW50eXBvICovDQogICAgW2NsYXNzKj0iZW50eXBvLSJdOmJlZm9yZSB7DQogICAgICBmb250LWZhbWlseTogJ2VudHlwbycsIHNhbnMtc2VyaWY7DQogICAgICBtYXJnaW4tcmlnaHQ6IDAuNWVtOw0KICAgIH0NCiAgICANCiAgICBoMSwgaDIsIGgzLCBoNCB7DQogICAgICBmb250LXdlaWdodDogNDAwOw0KICAgICAgbWFyZ2luOiAwOw0KICAgIH0NCiAgICANCiAgICBib2R5IHsNCiAgICAgIGZvbnQtZmFtaWx5OiAiU291cmNlIFNhbnMgUHJvIjsNCiAgICAgIG1hcmdpbjogMzBweCAzMjBweCA0MHB4IDA7DQogICAgICBmb250LXNpemU6IDE0cHg7DQogICAgICBiYWNrZ3JvdW5kOiBoc2xhKDAsMCUsOTUlLDEpOw0KICAgIH0NCiAgICBhIHsNCiAgICAgICAgY29sb3I6ICNkNDE0NWE7DQogICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsNCiAgICB9DQogICAgaW5wdXQgew0KICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICB3aWR0aDogMTAwJTsNCiAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICB9DQogICAgdGV4dGFyZWEgew0KICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICB3aWR0aDogMTAwJTsNCiAgICAgIGhlaWdodDogYXV0bzsNCiAgICAgIGZvbnQtc2l6ZTogMTZweDsNCiAgICB9DQogICAgLmJvZHkgdGV4dGFyZWEgew0KICAgICAgZm9udC1mYW1pbHk6ICJTb3VyY2UgQ29kZSBQcm8iOw0KICAgICAgZm9udC1zaXplOiAxM3B4Ow0KICAgICAgcGFkZGluZzogMWVtOw0KICAgIA0KICAgICAgbWluLWhlaWdodDogNDAwcHg7DQogICAgfQ0KICAgIA0KICAgIHNlY3Rpb24uc2lkZWJhciB7DQogICAgICBmb250LWZhbWlseTogIlNvdXJjZSBTYW5zIFBybyI7DQogICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgICAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgICAgcG9zaXRpb246IGZpeGVkOw0KICAgICAgcmlnaHQ6IDA7DQogICAgICB3aWR0aDogMzAwcHg7DQogICAgICBib3R0b206IDA7DQogICAgICB0b3A6IDQwcHg7DQogICAgICBiYWNrZ3JvdW5kOiBoc2xhKDAsMCUsOTAlLDEpOw0KICAgICAgcGFkZGluZzogMjBweDsNCiAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgaHNsYSgwLDAlLDcwJSwxKTsNCiAgICB9DQogICAgLnNpZGViYXIgdWwgew0KICAgICAgcGFkZGluZzogMDsNCiAgICB9DQogICAgLnNpZGViYXIgbGkgew0KICAgICAgbGlzdC1zdHlsZTogbm9uZTsNCiAgICAgIHBhZGRpbmc6IDAuNWVtIDA7DQogICAgfQ0KICAgIC5zaWRlYmFyIGxpOmJlZm9yZSB7DQogICAgICBmb250LWZhbWlseTogJ2VudHlwbyc7DQogICAgICBjb250ZW50OiAiXDFGNEM0IjsNCiAgICAgIG1hcmdpbi1yaWdodDogMC41ZW07DQogICAgICBjb2xvcjogI2Q0MTQ1YTsNCiAgICB9DQogICAgLnNpZGViYXIgbGk6aG92ZXI6YmVmb3JlIHsNCiAgICAgIGNvbnRlbnQ6ICJcMjcwRSI7DQogICAgICBvcGFjaXR5OiAxOw0KICAgIH0NCiAgICBhLm5ld2ZpbGU6YmVmb3JlIHsNCiAgICAgIGZvbnQtZmFtaWx5OiAnZW50eXBvJzsNCiAgICAgIGNvbnRlbnQ6ICJcMjI5RSI7DQogICAgICBtYXJnaW4tcmlnaHQ6IDAuNWVtOw0KICAgICAgY29sb3I6ICNkNDE0NWE7DQogICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQogICAgfQ0KICAgIA0KICAgIC50b3BiYXIgew0KICAgICAgcG9zaXRpb246IGZpeGVkOw0KICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAgIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAgIHRvcDogMDsNCiAgICAgIGxlZnQ6IDA7DQogICAgICByaWdodDogMDsNCiAgICAgIGhlaWdodDogNDBweDsNCiAgICAgIGJhY2tncm91bmQ6IGhzbGEoMCwwJSwyMCUsMSk7DQogICAgICBjb2xvcjogd2hpdGU7DQogICAgICBwYWRkaW5nOiAxMXB4Ow0KICAgIH0NCiAgICBoMSB7DQogICAgICBkaXNwbGF5OiBpbmxpbmU7DQogICAgICBwYWRkaW5nOiAwOw0KICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgbWFyZ2luOiAwOw0KICAgICAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgICAgIG1hcmdpbi1yaWdodDogMzBweDsNCiAgICB9DQogICAgaDEgYTpsaW5rLCBoMSBhOnZpc2l0ZWQgew0KICAgICAgY29sb3I6IHdoaXRlOw0KICAgIH0NCiAgICBoMi5maWxlbmFtZSB7DQogICAgICBkaXNwbGF5OiBpbmxpbmU7DQogICAgICBwYWRkaW5nOiAwOw0KICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgbWFyZ2luOiAwOw0KICAgICAgZm9udC13ZWlnaHQ6IDIwMDsNCiAgICB9DQogICAgaDIuZmlsZW5hbWU6YmVmb3JlIHsNCiAgICAgIGZvbnQtZmFtaWx5OiAnZW50eXBvJzsNCiAgICAgIGNvbnRlbnQ6ICJcMjcwRSI7DQogICAgICBtYXJnaW4tcmlnaHQ6IDAuNWVtOw0KICAgIH0NCiAgICANCiAgICAubW9kYWwgew0KICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgd2lkdGg6IDQwMHB4Ow0KICAgICAgbGVmdDo1MCU7DQogICAgICB0b3A6IDUwJTsNCiAgICAgIG1hcmdpbi1sZWZ0Oi0yMDBweDsNCiAgICAgIG1hcmdpbi10b3A6IC0xMDBweDsNCiAgICAgIGJhY2tncm91bmQ6ICNlZWU7DQogICAgICB6LWluZGV4OiAxMDA7DQogICAgICBwYWRkaW5nOiA0MHB4Ow0KICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgYm9yZGVyLXJhZGl1czogMnB4Ow0KICAgICAgYm94LXNoYWRvdzogMHB4IDBweCAxMHB4IGhzbGEoMCwwJSwwJSwwLjMpOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgaHNsYSgwLDAlLDcwJSwxKTsNCiAgICB9DQogICAgDQogICAgLmVkaXQgew0KICAgICAgcGFkZGluZzogMjBweDsNCiAgICAgIHotaW5kZXg6IC0xMDA7DQogICAgfQ0KICAgIA0KICAgIC5ib3R0b21iYXIgew0KICAgICAgZm9udC1mYW1pbHk6ICJTb3VyY2UgU2FucyBQcm8iOw0KICAgICAgcG9zaXRpb246IGZpeGVkOw0KICAgICAgYm90dG9tOiAwOw0KICAgICAgbGVmdDogMDsNCiAgICAgIHJpZ2h0OiAzMDBweDsNCiAgICAgIGJhY2tncm91bmQ6IGhzbGEoMCwwJSw5NSUsMSk7DQogICAgICBib3JkZXItdG9wOiAxcHggc29saWQgaHNsYSgwLDAlLDcwJSwxKTsNCiAgICAgIG1hcmdpbjogMDsNCiAgICAgIHBhZGRpbmc6IDEwcHg7DQogICAgICBoZWlnaHQ6IDQwcHg7DQogICAgfQ0KICAgIA0KICAgIGJ1dHRvbiB7DQogICAgICBkaXNwbGF5OiBpbmxpbmU7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCBoc2xhKDAsMCUsNzAlLDEpOw0KICAgICAgYm9yZGVyLXJhZGl1czogM3B4Ow0KICAgICAgYmFja2dyb3VuZDogaHNsYSgwLDAlLDEwMCUsMCk7DQogICAgICBmb250LWZhbWlseTogIlNvdXJjZSBTYW5zIFBybyI7DQogICAgICBmb250LXdlaWdodDogNDAwOw0KICAgICAgZm9udC1zaXplOiAxZW07DQogICAgICBtaW4td2lkdGg6IDEwMHB4Ow0KICAgICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgICAgIHBhZGRpbmc6IDdweCAyMHB4IDdweCAxMHB4Ow0KICAgIH0NCiAgICBidXR0b246aG92ZXIgew0KICAgICAgYmFja2dyb3VuZDogaHNsYSgwLDAlLDEwMCUsMC43KTsNCiAgICB9DQogICAgZGl2LnNhdmUgew0KICAgICAgZmxvYXQ6IHJpZ2h0Ow0KICAgICAgcGFkZGluZzogMHB4Ow0KICAgIH0NCiAgICBidXR0b24uc2F2ZSB7DQogICAgICBjb2xvcjogaHNsYSgxNDgsMTAwJSwyOCUsMSk7DQogICAgICBmb250LXdlaWdodDogNjAwOw0KICAgIH0NCiAgICBidXR0b24uZGVsZXRlIHsNCiAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7DQogICAgfQ0KICAgIC5kZWxldGUgYnV0dG9uLnllcyB7DQogICAgICBjb2xvcjogaHNsYSgzNTUsODQlLDQwJSwxKQ0KICAgIH0NCiAgICBkaXYuZGVsZXRlZCB7DQogICAgICBmbG9hdDogbGVmdDsNCiAgICAgIHBhZGRpbmc6IDBweDsNCiAgICB9DQogICAgZGl2LnN0YXR1cyB7DQogICAgICBjb2xvcjogaHNsYSgwLDAlLDAlLDEpOw0KICAgICAgZmxvYXQ6IHJpZ2h0Ow0KICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICBwYWRkaW5nOiAxMHB4IDEwcHggMjBweCAxMHB4Ow0KICAgIH0NCiAgICBkaXYuc3RhdHVzIHAgew0KICAgICAgZm9udC13ZWlnaHQ6IDQwMDsNCiAgICAgIG1hcmdpbjogMDsNCiAgICAgIHBhZGRpbmc6IDA7DQogICAgfQ0KICAgIA0KICAgIFtjb250ZW50ZWRpdGFibGVdLCB0ZXh0YXJlYSwgaW5wdXQgew0KICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAgIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAgIGJvcmRlcjogMnB4IHNvbGlkIGhzbGEoMzM0LDg1JSw1MiUsMC4xKTsNCiAgICAgIC8qbWFyZ2luOiAtNXB4IC01cHggLTVweCAtNXB4OyovDQogICAgICBtYXJnaW4tdG9wOiAtNXB4Ow0KICAgICAgbWFyZ2luLXJpZ2h0OiAtNXB4Ow0KICAgICAgbWFyZ2luLWxlZnQ6IC01cHg7DQogICAgICBwYWRkaW5nOiA1cHg7DQogICAgICBvdXRsaW5lOiBub25lOw0KICAgIH0NCiAgICANCiAgICBbY29udGVudGVkaXRhYmxlXTpob3ZlciwgdGV4dGFyZWE6aG92ZXIsIGlucHV0OmhvdmVyIHsNCiAgICAgIGJvcmRlcjogMnB4IHNvbGlkIGhzbGEoMzM0LDg1JSw1MiUsMC41KTsNCiAgICAgIG91dGxpbmU6IG5vbmU7DQogICAgfQ0KICAgIA0KICAgIFtjb250ZW50ZWRpdGFibGVdOmZvY3VzLCB0ZXh0YXJlYTpmb2N1cywgaW5wdXQ6Zm9jdXMgew0KICAgICAgYm9yZGVyOiAycHggc29saWQgaHNsYSgzMzQsODUlLDUyJSwxKTsNCiAgICAgIG91dGxpbmU6IG5vbmU7DQogICAgfQ0KICAgIA0KICAgIHNlY3Rpb24uZWRpdG9yIHsNCiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgIGxlZnQ6IDA7DQogICAgICB0b3A6IDQwcHg7DQogICAgICBib3R0b206IDYxcHg7DQogICAgICByaWdodDogMjgwcHg7DQogICAgICB6LWluZGV4OiAtMTAwOw0KICAgIH0NCiAgICAjZWRpdG9yIHsgDQogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICBsZWZ0OiAwOw0KICAgICAgdG9wOiAwOw0KICAgICAgYm90dG9tOiAwOw0KICAgICAgcmlnaHQ6IDA7DQogICAgfQ0KICAgIA0KICAgIEBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkgew0KICAgICAgYm9keSwgLm1vZGFsLCAudG9wYmFyLCBzZWN0aW9uLnNpZGViYXIsIHNlY3Rpb24uZWRpdG9yLCAuYm90dG9tYmFyIHsNCiAgICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAgICAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgaGVpZ2h0OiBhdXRvOw0KICAgICAgICBtYXJnaW46IDA7DQogICAgICAgIGxlZnQ6IDA7DQogICAgICAgIHRvcDogMDsNCiAgICAgICAgYm90dG9tOiAwOw0KICAgICAgICByaWdodDogMDsNCiAgICAgIH0NCiAgICAgIHNlY3Rpb24uZWRpdG9yIHsNCiAgICAgICAgei1pbmRleDogMTAwOw0KICAgICAgfQ0KICAgICAgLmJvdHRvbWJhciAuZGVsZXRlZCwgLmJvdHRvbWJhciAuZGVsZXRlLCAuYm90dG9tYmFyIC5zYXZlLCAuYm90dG9tYmFyIGRpdi5zdGF0dXMgew0KICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICBkaXNwbGF5OiBibG9jazsNCiAgICAgICAgZmxvYXQ6IG5vbmU7DQogICAgICB9DQogICAgfQ0KICAgIA0KICA8L3N0eWxlPg0KICANCiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9ImluaXRpYWwtc2NhbGU9MSI+DQoNCjwvaGVhZD4NCjxib2R5Pg0KICA8c2VjdGlvbiBjbGFzcz0idG9wYmFyIj4NCiAgICAgPGgxPg0KICAgICAgICBDb3VjaElERSAwLjINCiAgICAgPC9oMT4NCiAgICAgPGgyIGNsYXNzPSJmaWxlbmFtZSI+DQogICAgICAgICANCiAgICAgPC9oMj4NCiAgPC9zZWN0aW9uPg0KICAgICAgDQogIDxkaXYgY2xhc3M9Im1vZGFsIG5ld2ZpbGUiPg0KICAgIDxwPldoYXQgbmFtZSBzaG91bGQgeW91ciBmaWxlIGhhdmU/PC9wPg0KICAgIDxpbnB1dCBuYW1lPSJfaWQiIGNsYXNzPSJmaWVsZCBfaWQiIHBsYWNlaG9sZGVyPSJGaWxlbmFtZSI+DQogICAgPHNlbGVjdCBjbGFzcz0iZmllbGQgdHlwZSI+DQogICAgICA8b3B0aW9uIHZhbHVlPSJ0ZXh0L3BsYWluIj5QbGFpbiB0ZXh0PC9vcHRpb24+DQogICAgICA8b3B0aW9uIHZhbHVlPSJ0ZXh0L2h0bWwiPkhUTUw8L29wdGlvbj4NCiAgICAgIDxvcHRpb24gdmFsdWU9InRleHQvY3NzIj5DU1M8L29wdGlvbj4NCiAgICAgIDxvcHRpb24gdmFsdWU9ImFwcGxpY2F0aW9uL2phdmFzY3JpcHQiPkphdmFzY3JpcHQ8L29wdGlvbj4NCiAgICAgIDxvcHRpb24gdmFsdWU9ImFwcGxpY2F0aW9uL2pzb24iPkpTT048L29wdGlvbj4NCiAgICA8L3NlbGVjdD4NCiAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9Im5ld2ZpbGUgZW50eXBvLXBsdXMiPkNyZWF0ZSBmaWxlPC9idXR0b24+DQogICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJjYW5jZWwiPk5vLCBDYW5jZWw8L2J1dHRvbj4NCiAgPC9kaXY+ICAgIA0KICANCiAgPGRpdiBjbGFzcz0ibW9kYWwgZGVsZXRlIj4NCiAgICA8cD5BcmUgeW91IHN1cmUgeW91IHdpc2ggdG8gZGVsZXRlIHRoaXMgZmlsZT88L3A+DQogICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJ5ZXMgZW50eXBvLWVyYXNlIj5ZZXMsIERlbGV0ZTwvYnV0dG9uPg0KICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iY2FuY2VsIj5ObywgQ2FuY2VsPC9idXR0b24+DQogIDwvZGl2PiAgICANCg0KICA8c2VjdGlvbiBjbGFzcz0ic2lkZWJhciI+DQogICAgPGgyPkZpbGVzOjwvaDI+DQogICAgPHVsIGNsYXNzPSJmaWxlcyI+DQogICAgICA8bGk+Tm8gZmlsZXM8L2xpPg0KICAgIDwvdWw+DQogICAgPGEgaHJlZj0iIy9uZXciIGNsYXNzPSJuZXdmaWxlIj5OZXcgZmlsZTwvYT4NCiAgPC9zZWN0aW9uPg0KICANCiAgPHNlY3Rpb24gY2xhc3M9ImJvdHRvbWJhciI+DQogICAgPGRpdiBjbGFzcz0ic2F2ZSI+DQogICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0ic2F2ZSBlbnR5cG8tY2hlY2siPlNhdmU8L2J1dHRvbj4NCiAgICA8L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJzdGF0dXMiPjxwIGNsYXNzPSJlbnR5cG8tYXR0ZW50aW9uIj5FZGl0b3Igbm90IGxvYWRlZCB5ZXQhPC9wPjwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9ImRlbGV0ZWQiPg0KICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJkZWxldGUgZW50eXBvLWNhbmNlbC1jaXJjbGVkIj5EZWxldGU8L2J1dHRvbj4NCiAgICA8L2Rpdj4NCiAgPC9zZWN0aW9uPg0KDQogIDxzZWN0aW9uIGNsYXNzPSJlZGl0b3IiPjxkaXYgaWQ9ImVkaXRvciI+UGxlYXNlIG9wZW4gYSBmaWxlITwvZGl2Pjwvc2VjdGlvbj4NCiAgDQogIDxzY3JpcHQgc3JjPSIvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9qcXVlcnkvMi4wLjMvanF1ZXJ5Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBjaGFyc2V0PSJ1dGYtOCI+PC9zY3JpcHQ+DQogIDxzY3JpcHQgc3JjPSIvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9hY2UvMS4xLjAxL2FjZS5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBjaGFyc2V0PSJ1dGYtOCI+PC9zY3JpcHQ+DQogIDxzY3JpcHQgc3JjPSIvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9tb21lbnQuanMvMi4yLjEvbW9tZW50Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBjaGFyc2V0PSJ1dGYtOCI+PC9zY3JpcHQ+DQoNCiAgPHNjcmlwdCB0eXBlPSJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0Ij4NCiAgICANCiAgICAvLyBTZXQgRW1wdHkgRmlsZQ0KDQogICAgdmFyIGVtcHR5RmlsZSA9IHsNCiAgICAgIGJvZHk6ICIiLA0KICAgICAgdHlwZTogInRleHQvcGxhaW4iLA0KICAgICAgX2lkOiAiIiwNCiAgICAgIF9kZWxldGVkOiBmYWxzZSwNCiAgICAgIGVkaXRvckxpbmU6IDAsDQogICAgICBlZGl0b3JMYXN0U2F2ZWQ6ICIiDQogICAgfTsNCiAgICB2YXIgZWRpdG9yOw0KICAgIA0KICAgIHZhciBnZXRTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHsNCiAgICAgIA0KICAgICAgdmFyIHNldHRpbmdzID0ge307DQogICAgICB2YXIgY3VycmVudFVybCA9ICQobG9jYXRpb24pLmF0dHIoJ2hyZWYnKTsNCiAgICAgIHZhciBwYXJ0c09mVXJsID0gZ2V0VVJMUGFydHMoKTsNCiAgICAgIA0KICAgICAgc2V0dGluZ3MuY3VycmVudFVybCA9IGN1cnJlbnRVcmw7DQogICAgICBzZXR0aW5ncy5zaXRlVXJsID0gcGFydHNPZlVybFsyXTsNCiAgICAgIHNldHRpbmdzLnVybEZpbGUgPSBwYXJ0c09mVXJsW3BhcnRzT2ZVcmwubGVuZ3RoIC0gMV07DQogICAgICANCiAgICAgIHNldHRpbmdzLm9uVmhvc3QgPSBpc1Zob3N0KCk7DQogICAgICBzZXR0aW5ncy5kYlBhdGggPSBpc1Zob3N0KCkgPyAiYXBpIiA6IHBhcnRzT2ZVcmxbM107DQogICAgICANCiAgICAgIHNldHRpbmdzLmVkaXRvclJld3JpdGUgPSAnX3Jld3JpdGUvY291Y2hpZGUvJzsNCiAgICAgIA0KICAgICAgcmV0dXJuIHNldHRpbmdzOw0KICAgIH0NCiAgDQogICAgdmFyIHNldHRpbmdzID0gZnVuY3Rpb24oKSB7DQogICAgICByZXR1cm4gZ2V0U2V0dGluZ3MoKTsNCiAgICB9DQogICAgDQogICAgdmFyIGlzVmhvc3QgPSBmdW5jdGlvbigpIHsNCiAgICAgIHJldHVybiBnZXRVUkxQYXJ0cygpLmluZGV4T2YoJ19yZXdyaXRlJykgPT09IC0xOw0KICAgIH0NCiAgICANCiAgICB2YXIgZ2V0VVJMUGFydHMgPSBmdW5jdGlvbigpIHsNCiAgICAgIHJldHVybiAkKGxvY2F0aW9uKS5hdHRyKCdocmVmJykuc3BsaXQoIi8iKTsNCiAgICB9DQogIA0KICAgIC8vIENvZGUgdG8gcGVyZm9ybSBvbiBkb2N1bWVudCByZWFkeQ0KICAgIA0KICAgICQoIGRvY3VtZW50ICkucmVhZHkoZnVuY3Rpb24oKSB7DQogICAgICAkKCcubW9kYWwnKS5oaWRlKCk7DQogICAgICAvKiAkKCdkaXYubmV3ZmlsZScpLmZhZGVJbigpOw0KICAgICAgICAgJCgnZGl2LnN0YXR1cycpDQogICAgICAgICAgIC5odG1sKCc8cCBjbGFzcz0iZW50eXBvLWF0dGVudGlvbiI+Tm8gZmlsZSBvcGVuITwvcD4nKQ0KICAgICAgICAgICAuZmFkZVRvKCAic2xvdyIgLCAwLjI0ICk7ICovDQogICAgICANCiAgICAgIA0KICAgICAgLy8gQ2xpY2sgaGFuZGxlcnMNCiAgICAgIA0KICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgInVsLmZpbGVzIGxpIGEiLCBmdW5jdGlvbigpIHsNCiAgICAgICAgdmFyIGxvYWQgPSAkKHRoaXMpLmRhdGEoJ2ZpbGUnKTsNCiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgY29uc29sZS5sb2coDQogICAgICAgICJjbGljazogIiArIGxvYWQNCiAgICAgICAgKTsNCiAgICAgICAgbG9hZEZpbGUobG9hZCk7DQogICAgICB9KTsNCiAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICJidXR0b24uc2F2ZSIsIGZ1bmN0aW9uKCkgew0KICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICBzYXZlRmlsZSgpOw0KICAgICAgfSk7DQogICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAiYnV0dG9uLmRlbGV0ZSIsIGZ1bmN0aW9uKCkgew0KICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAkKCdkaXYuZGVsZXRlJykuZmFkZUluKCdmYXN0Jyk7DQogICAgICB9KTsNCiAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICJkaXYuZGVsZXRlIGJ1dHRvbi55ZXMiLCBmdW5jdGlvbigpIHsNCiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgZGVsZXRlRmlsZSgpOw0KICAgICAgfSk7DQogICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAiYnV0dG9uLmNhbmNlbCIsIGZ1bmN0aW9uKCkgew0KICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICBmYWRlT3V0TW9kYWwoKQ0KICAgICAgfSk7DQogICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAiYnV0dG9uLm5ld2ZpbGUiLCBmdW5jdGlvbigpIHsNCiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgbmV3RmlsZSgpOw0KICAgICAgfSk7DQogICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAiYS5uZXdmaWxlIiwgZnVuY3Rpb24oKSB7DQogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICQoJ2Rpdi5uZXdmaWxlJykuZmFkZUluKCdmYXN0Jyk7DQogICAgICB9KTsNCiAgICAgIA0KICAgICAgLy8gTG9hZCBmaWxlcyBtZW51DQogICAgICANCiAgICAgIGdldEZpbGVzKCk7DQogICAgICANCiAgICAgIC8vIElmIGEgbmFtZSBpcyBlbnRlcmVkIGluIHRoZSBhZGRyZXNzYmFyIG9wZW4gdGhhdCBmaWxlDQogICAgICANCiAgICAgIGlmICggc2V0dGluZ3MoKS51cmxGaWxlICE9IGZhbHNlICkgew0KICAgICAgICBsb2FkRmlsZShzZXR0aW5ncygpLnVybEZpbGUpOw0KICAgICAgfSBlbHNlIGlmIChzZXR0aW5ncygpLnVybEZpbGUgPT0gJ2NvdWNoaWRlJykgew0KICAgICAgICBsb2FkRmlsZSgnaW5kZXguaHRtbCcpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbG9hZEZpbGUoJ2luZGV4Lmh0bWwnKTsNCiAgICAgIH0NCiAgICAgIA0KICAgIH0pOw0KICAgIA0KICAgIC8vIEZpbGUgbWFuaXB1bGF0aW9uIGZ1bmN0aW9ucw0KICAgIA0KICAgIGZ1bmN0aW9uIGdldEZpbGVzKCkgew0KICAgICAgcmV0dXJuICQuZ2V0SlNPTiggJy8nICsgc2V0dGluZ3MoKS5kYlBhdGggKyAnL19kZXNpZ24vY291Y2hpZGUvX3ZpZXcvdHlwZS1kb2MnLA0KICAgICAgICBmdW5jdGlvbihqc29uLCB0ZXh0U3RhdHVzKSB7DQogICAgICAgICAgLy8gY29uc29sZS5sb2coanNvbik7DQogICAgICAgICAgJCgndWwuZmlsZXMnKS5odG1sKCcnKQ0KICAgICAgICAgICQuZWFjaChqc29uLnJvd3MsIGZ1bmN0aW9uKGluZGV4LCB2YWwpIHsNCiAgICANCiAgICAgICAgICAgIC8qIGl0ZXJhdGUgdGhyb3VnaCBhcnJheSBvciBvYmplY3QgKi8NCiAgICAgICAgICAgICQoJ3VsLmZpbGVzJykNCiAgICAgICAgICAgIC5hcHBlbmQoDQogICAgICAgICAgICAgICc8bGk+IDxhIGhyZWY9IicNCiAgICAgICAgICAgICAgKyB2YWwuaWQNCiAgICAgICAgICAgICAgKyAnIiBkYXRhLWZpbGU9IicNCiAgICAgICAgICAgICAgKyB2YWwuaWQNCiAgICAgICAgICAgICAgKyAnIj4nDQogICAgICAgICAgICAgICsgdmFsLmlkDQogICAgICAgICAgICAgICsgJzwvYT48L2xpPicNCiAgICAgICAgICAgICkNCiAgICAgICAgICB9DQogICAgICAgICk7DQogICAgICB9KTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gbG9hZEZpbGUoZmlsZSkgew0KICAgICAgZmFkZU91dE1vZGFsKCkNCiAgICAgIHJldHVybiAkLmdldEpTT04oJy8nICsgc2V0dGluZ3MoKS5kYlBhdGggKyAnLycgKyBmaWxlLCANCiAgICAgICAgZnVuY3Rpb24oanNvbiwgdGV4dFN0YXR1cykgew0KICAgICAgICAgIGN1cnJlbnRGaWxlID0ge307DQogICAgICAgICAgY3VycmVudEZpbGUgPSBqc29uOw0KICAgICAgICAgIGluaXRFZGl0b3IoKTsNCiAgICAgICAgICBnZXRGaWxlcygpOw0KICAgICAgICAgICQoJ2Rpdi5zdGF0dXMnKQ0KICAgICAgICAgICAgLmh0bWwoDQogICAgICAgICAgICAgICc8cCBjbGFzcz0iZW50eXBvLWNsb3VkIj5GaWxlIGxhc3Qgc2F2ZWQ6ICcgDQogICAgICAgICAgICAgICsgbW9tZW50KGN1cnJlbnRGaWxlLmVkaXRvckxhc3RTYXZlZCkuZnJvbU5vdygpIA0KICAgICAgICAgICAgICArICc8L3A+Jw0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgLmZhZGVUbyggJ2Zhc3QnICwgMC4zMyApDQogICAgICAgICAgICAuZmFkZVRvKCAnc2xvdycgLCAwLjI0ICk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSgge30sICdDb3VjaElERTogJyArIGZpbGUgLCBmaWxlICk7DQogICAgICAgIH0NCiAgICAgICk7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIHNhdmVGaWxlKCkgew0KICAgICAgaWYgKGN1cnJlbnRGaWxlLl9pZCAhPSBmYWxzZSkgew0KICAgICAgICAkKCdkaXYuc3RhdHVzJykNCiAgICAgICAgICAuaHRtbCgnPHAgY2xhc3M9ImVudHlwby11cGxvYWQtY2xvdWQiPlNhdmluZzwvcD4nKQ0KICAgICAgICAgIC5mYWRlVG8oICdmYXN0JyAsIDAuNTMgKS5kZWxheSgyMDAwKTsNCiAgICAgICAgY3VycmVudEZpbGUuYm9keSA9IGVkaXRvci5nZXRWYWx1ZSgpOw0KICAgICAgICBlZGl0b3JDdXJzb3IgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldEN1cnNvcigpOw0KICAgICAgICBjdXJyZW50RmlsZS5lZGl0b3JMaW5lID0gZWRpdG9yQ3Vyc29yLnJvdzsNCiAgICAgICAgY3VycmVudEZpbGUuZWRpdG9yTGFzdFNhdmVkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7DQogICAgICAgIGNvbnNvbGUubG9nKA0KICAgICAgICAgICdzYXZlOiAnICsgY3VycmVudEZpbGUuX2lkDQogICAgICAgICk7DQogICAgICAgICQuYWpheCh7DQogICAgICAgICAgdHlwZTogJ1BPU1QnLA0KICAgICAgICAgIHVybDogJy8nICsgc2V0dGluZ3MoKS5kYlBhdGggKyAnLycsDQogICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoY3VycmVudEZpbGUpLA0KICAgICAgICAgIGNvbnRlbnRUeXBlIDogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICAgICAgIGRhdGFUeXBlIDogJ2pzb24nLA0KICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICggZGF0YSApIHsNCiAgICAgICAgICAgICQoJ2Rpdi5zdGF0dXMnKS5odG1sKCdTYXZlZCcpOw0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coIlNhdmVkISIpOw0KICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLl9yZXYpOw0KICAgICAgICAgICAgbG9hZEZpbGUoY3VycmVudEZpbGUuX2lkKTsNCiAgICAgICAgICB9LA0KICAgICAgICAgIGZhaWw6IGZ1bmN0aW9uICggcmVzcG9uc2UgKSB7DQogICAgICAgICAgICBhbGVydCgnRXJyb3IhIFRoZSBtZXNzYWdlIHdhcyBub3Qgc2VudC4nKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBhbGVydCgnUGxlYXNlIGNyZWF0ZSBhIG5ldyBmaWxlIGZpcnN0Jyk7DQogICAgICB9DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGRlbGV0ZUZpbGUoKSB7DQogICAgICBjdXJyZW50RmlsZS5fZGVsZXRlZCA9IHRydWU7DQogICAgICBzYXZlRmlsZSgpOw0KICAgICAgZ2V0RmlsZXMoKTsNCiAgICAgIGN1cnJlbnRGaWxlID0gZW1wdHlGaWxlOw0KICAgICAgaW5pdEVkaXRvcigpOw0KICAgICAgZ2V0RmlsZXMoKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gbmV3RmlsZSgpIHsNCiAgICAgIGZhZGVPdXRNb2RhbCgpDQogICAgICBjdXJyZW50RmlsZSA9IGVtcHR5RmlsZTsNCiAgICAgIGN1cnJlbnRGaWxlLl9pZCA9ICQoJ2lucHV0LmZpZWxkLl9pZCcpLnZhbCgpOw0KICAgICAgY3VycmVudEZpbGUudHlwZSA9ICQoJ3NlbGVjdC5maWVsZC50eXBlJykuZmluZCgiOnNlbGVjdGVkIikudmFsKCk7DQogICAgICANCiAgICAgIGlmIChjdXJyZW50RmlsZS50eXBlID09ICJ0ZXh0L2h0bWwiKSB7DQogICAgICAgIGN1cnJlbnRGaWxlLmJvZHkgPSAnPCFkb2N0eXBlIGh0bWw+XHJcbiA8aHRtbCBsYW5nPSJlbiI+XHJcbiBcdDxoZWFkPlxyXG4gXHRcdDxtZXRhIGNoYXJzZXQ9IlVURi04Ij5cclxuIFx0XHQ8dGl0bGU+RG9jdW1lbnQ8L3RpdGxlPlxyXG4gXHQ8L2hlYWQ+XHJcbiBcdDxib2R5PlxyXG4gXHRcdFx0XHJcbiBcdDwvYm9keT5cclxuIDwvaHRtbD5cclxuJzsNCiAgICAgICAgY3VycmVudEZpbGUuZWRpdG9yTGluZSA9IDc7DQogICAgICB9IGVsc2UgaWYgKGN1cnJlbnRGaWxlLnR5cGUgPT0gImFwcGxpY2F0aW9uL2phdmFzY3JpcHQiKSB7DQogICAgICAgIGN1cnJlbnRGaWxlLmJvZHkgPSAnJzsNCiAgICAgIH0gZWxzZSBpZiAoY3VycmVudEZpbGUudHlwZSA9PSAidGV4dC9jc3MiKSB7DQogICAgICAgIGN1cnJlbnRGaWxlLmJvZHkgPSAnJzsNCiAgICAgIH0gZWxzZSBpZiAoY3VycmVudEZpbGUudHlwZSA9PSAidGV4dC9wbGFpbiIpIHsNCiAgICAgICAgY3VycmVudEZpbGUuYm9keSA9ICcnOw0KICAgICAgfSBlbHNlIGlmIChjdXJyZW50RmlsZS50eXBlID09ICJhcHBsaWNhdGlvbi9qc29uIikgew0KICAgICAgICBjdXJyZW50RmlsZS5ib2R5ID0gJ3tcclxuXHRcclxufSc7DQogICAgICAgIGN1cnJlbnRGaWxlLmVkaXRvckxpbmUgPSAxOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY3VycmVudEZpbGUuYm9keSA9ICcnOw0KICAgICAgfQ0KICAgICAgDQogICAgICBpbml0RWRpdG9yKCk7DQogICAgICBzYXZlRmlsZSgpOw0KICAgICAgZ2V0RmlsZXMoKTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gZmFkZU91dE1vZGFsKCkgew0KICAgICAgJCgnLm1vZGFsJykuZmFkZU91dCgnZmFzdCcpOw0KICAgIH0NCiAgICANCiAgICAvLyBJbml0aWFsaXNhdGlvbiBmdW5jdGlvbnMNCiAgICANCiAgICBmdW5jdGlvbiBpbml0RWRpdG9yKCkgew0KICAgICAgY29uc29sZS5sb2coY3VycmVudEZpbGUpOw0KICAgICAgZWRpdG9yID0gYWNlLmVkaXQoImVkaXRvciIpOw0KICAgICAgZWRpdG9yLnJlc2l6ZSgpDQogICAgICBlZGl0b3Iuc2V0VGhlbWUoImFjZS90aGVtZS9zb2xhcml6ZWRfZGFyayIpOw0KICAgICAgaWYgKGN1cnJlbnRGaWxlLnR5cGUgPT0gInRleHQvaHRtbCIpIHsNCiAgICAgICAgZWRpdG9yLmdldFNlc3Npb24oKS5zZXRNb2RlKCJhY2UvbW9kZS9odG1sIik7DQogICAgICAgIGNvbnNvbGUubG9nKCJodG1sIik7DQogICAgICB9IGVsc2UgaWYgKGN1cnJlbnRGaWxlLnR5cGUgPT0gImFwcGxpY2F0aW9uL2phdmFzY3JpcHQiKSB7DQogICAgICAgIGVkaXRvci5nZXRTZXNzaW9uKCkuc2V0TW9kZSgiYWNlL21vZGUvamF2YXNjcmlwdCIpOw0KICAgICAgICBjb25zb2xlLmxvZygiamF2YXNjcmlwdCIpOw0KICAgICAgfSBlbHNlIGlmIChjdXJyZW50RmlsZS50eXBlID09ICJ0ZXh0L2NzcyIpIHsNCiAgICAgICAgZWRpdG9yLmdldFNlc3Npb24oKS5zZXRNb2RlKCJhY2UvbW9kZS9jc3MiKTsNCiAgICAgICAgY29uc29sZS5sb2coImNzcyIpOw0KICAgICAgfSBlbHNlIGlmIChjdXJyZW50RmlsZS50eXBlID09ICJ0ZXh0L3BsYWluIikgew0KICAgICAgICBlZGl0b3IuZ2V0U2Vzc2lvbigpLnNldE1vZGUoImFjZS9tb2RlL3RleHQiKTsNCiAgICAgICAgY29uc29sZS5sb2coInBsYWludGV4dCIpOw0KICAgICAgfSBlbHNlIGlmIChjdXJyZW50RmlsZS50eXBlID09ICJhcHBsaWNhdGlvbi9qc29uIikgew0KICAgICAgICBlZGl0b3IuZ2V0U2Vzc2lvbigpLnNldE1vZGUoImFjZS9tb2RlL2pzb24iKTsNCiAgICAgICAgY29uc29sZS5sb2coImpzb24iKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGVkaXRvci5nZXRTZXNzaW9uKCkuc2V0TW9kZSgiYWNlL21vZGUvcGxhaW4iKTsNCiAgICAgICAgY29uc29sZS5sb2coIm5vdGhpbmciKTsNCiAgICAgIH0NCiAgICAgIGVkaXRvci5zZXRWYWx1ZShjdXJyZW50RmlsZS5ib2R5KTsNCiAgICAgIA0KICAgICAgZWRpdG9yLmdldFNlc3Npb24oKS5zZXRVc2VTb2Z0VGFicyh0cnVlKTsNCiAgICAgIGVkaXRvci5nZXRTZXNzaW9uKCkuc2V0VGFiU2l6ZSgyKTsNCiAgICAgIGVkaXRvci5nZXRTZXNzaW9uKCkuc2V0VXNlV3JhcE1vZGUodHJ1ZSk7DQogICAgICANCiAgICAgIGVkaXRvci5nb3RvTGluZShjdXJyZW50RmlsZS5lZGl0b3JMaW5lICsgMSk7DQogICAgICAkKCdoMi5maWxlbmFtZScpLmh0bWwoY3VycmVudEZpbGUuX2lkKTsNCiAgICB9DQogICAgDQogIDwvc2NyaXB0Pg0KICAgIA0KPC9ib2R5Pg0KPC9odG1sPg=="
    }
  }
}